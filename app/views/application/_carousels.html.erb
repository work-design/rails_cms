<div class="slide" data-controller="slide" data-slide-delay-value="4" data-slide-target="container">
<% Cms::Carousel.default_where(default_params).each_with_index do |carousel, index| %>
  <figure class="image" data-action="touchmove->slide#move:passive touchend->slide#end:passive" data-index="<%= index %>">
    <% if carousel.image.content_type.to_s.start_with?('video') %>
      <%= video_tag carousel.image.url, controls: true %>
    <% else %>
      <%= image_tag carousel.image, style: 'object-fit: contain' %>
    <% end %>
    <figcaption><%= index + 1 %>/<%= Cms::Carousel.default_where(default_params).size %></figcaption>
  </figure>
<% end %>
</div>
